# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## プロジェクト概要

インスタグラム投稿を効率化するWEBアプリケーションです。写真のAI加工と投稿文章の自動生成を行います。

## 機能仕様

### 基本機能
- 写真のアップロード機能
- Gemini API連携による写真の解析とAI加工
- 被写体を中心に配置し、1:1のアスペクト比でトリミング
- 写真に応じた投稿用文章の自動生成
- 加工後画像のダウンロード機能
- 生成された文章のコピー機能

### ユーザー選択オプション
- **文章のテイスト**: 「まじめ」「ユーモア」「キラキラ」から選択
- **ハッシュタグの量**: 「多い」「普通」「少ない」から選択

### 将来実装予定
- WEBアプリから直接インスタグラムへの投稿機能

## 開発方針

- **段階的実装**: 一気に進めず、ステップバイステップで開発する
- **動作確認**: 各ステップ完了時に動作確認を必須とする
- **コメント**: プログラムには必ず丁寧なコメントを記載する
- **日本語対応**: すべてのやりとりは日本語で行う

## 技術スタック

### フロントエンド
- **HTML/CSS/JavaScript**: React.jsを使用
- **画像処理**: Canvas API
- **スタイリング**: Tailwind CSS

### バックエンド
- **サーバー**: Node.js + Express（API サーバー）
- **AI API**: Gemini Pro Vision API（無料枠あり）
- **画像処理**: Sharp（サーバーサイド画像処理）

### その他
- **UI**: 直感的な操作が可能なWEBインターフェース

## 開発段階

1. 基本的なWEBアプリの骨組み作成
2. 写真アップロード機能の実装
3. Gemini API連携の実装
4. 画像加工機能（トリミング・リサイズ）
5. 文章生成機能
6. ハッシュタグ生成機能
7. ダウンロード・コピー機能
8. UI/UXの改善

## 重要な注意事項

- **Gemini APIキー**: 環境変数（.env）で管理し、絶対にコミットしない
- **API制限**: Gemini Pro Vision APIの無料枠の制限に注意
- **動作テスト**: 各機能の実装後は必ず動作テストを行う
- **ユーザビリティ**: 直感的で使いやすい設計を重視する
- **技術的制約**: Gemini Nano bananaは現時点でオンデバイスモデルのため、Gemini Pro Vision APIを代用